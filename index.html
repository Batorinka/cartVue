<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Cart</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<style>
		.cart {
			margin-top: 50px;
		}
		input.quantity {
			width: 20%;
			float: left;
			margin-right: 10px;
		}
	</style>
</head>
<body>
<div class="container cart" id="app">
	
	<div class="row">
		<div class="col-md-8">
			<h1>Корзина</h1>
			
			<table class="table">
				<thead>
				<th>#</th>
				<th>Название</th>
				<th>Цена</th>
				<th>Количество</th>
				<th>Действия</th>
				</thead>
				
				<tbody>
				<tr v-for="(product, index) in products">
					<td>{{++index}}</td>
					<td>{{product.title}}</td>
					<td>{{product.price}}</td>
					<td>{{product.quantity}}</td>
					<td>
						<input type="number" class="form-control quantity"
							v-model.number="product.quantity">
						<button class="btn btn-danger" @click="deleteProduct(product)">Удалить</button>
					</td>
				</tr>
				</tbody>
			</table>
		</div>
		<div class="col-md-4">
			<h1>Новый товар</h1>
			
			<div class="form-group">
				<label for="">Название</label>
				<input type="text" class="form-control" v-model="product.title">
			</div>
			
			<div class="form-group">
				<label for="">Цена</label>
				<input type="text" class="form-control" v-model.number="product.price">
			</div>
      
      <div class="alert alert-danger" role="alert" v-if="statusField">
				Поля обязательны к заполнению
			</div>
			
			<div class="form-group">
				<button class="btn btn-success" @click="addProduct()">Добавить товар</button>
			</div>
		</div>
	</div>
	<h2>Количество товаров: {{totalQuantity}}</h2>
	<h2>Общая стоимость: {{totalPrice}}р.</h2>
	
	<span class="alert alert-success" v-if="status">Заказ оформлен</span>
	<button class="btn btn-warning" @click="makeOrder()">Оформить заказ</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reqwest/2.0.5/reqwest.js"></script>
<script src="script.js"></script>
    
</body>
</html>